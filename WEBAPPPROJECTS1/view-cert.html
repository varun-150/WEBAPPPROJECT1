<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>View Certifications</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h2>My Certifications</h2>
    <div class="certificates-grid" id="certificatesGrid">
      <!-- Certificates will be dynamically loaded here -->
    </div>
    <div class="actions">
      <a href="add-cert.html" class="btn">+ Add New Certificate</a>
      <a href="dashboard.html" class="btn danger">‚¨Ö Back to Dashboard</a>
    </div>
  </div>

  <script>
    // Sample certificate data - in a real app, this would come from a database
    const certificates = [
      {
        id: 1,
        name: "AWS Solutions Architect",
        issuer: "Amazon Web Services",
        issueDate: "2023-01-15",
        expiryDate: "2025-01-15",
        status: "active",
        imageUrl: "https://via.placeholder.com/300x200/4A90E2/FFFFFF?text=AWS+Solutions+Architect",
        certificateNumber: "AWS-SA-2023-001"
      },
      {
        id: 2,
        name: "Google Data Analyst",
        issuer: "Google",
        issueDate: "2022-06-20",
        expiryDate: "2024-06-20",
        status: "expiring",
        imageUrl: "https://via.placeholder.com/300x200/4285F4/FFFFFF?text=Google+Data+Analyst",
        certificateNumber: "GDA-2022-002"
      },
      {
        id: 3,
        name: "Scrum Master",
        issuer: "Scrum Alliance",
        issueDate: "2021-03-10",
        expiryDate: "2023-03-10",
        status: "expired",
        imageUrl: "https://via.placeholder.com/300x200/FF6B6B/FFFFFF?text=Scrum+Master",
        certificateNumber: "SM-2021-003"
      },
      {
        id: 4,
        name: "Microsoft Azure Fundamentals",
        issuer: "Microsoft",
        issueDate: "2023-08-12",
        expiryDate: "2025-08-12",
        status: "active",
        imageUrl: "https://via.placeholder.com/300x200/0078D4/FFFFFF?text=Azure+Fundamentals",
        certificateNumber: "AZ-900-2023-004"
      }
    ];

    function getStatusClass(status) {
      switch(status) {
        case 'active': return 'status-active';
        case 'expiring': return 'status-expiring';
        case 'expired': return 'status-expired';
        default: return 'status-unknown';
      }
    }

    function getStatusText(status) {
      switch(status) {
        case 'active': return 'Active';
        case 'expiring': return 'Expiring Soon';
        case 'expired': return 'Expired';
        default: return 'Unknown';
      }
    }

    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('en-US', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
      });
    }

    function deleteCertificate(id) {
      if (confirm('Are you sure you want to delete this certificate? This action cannot be undone.')) {
        // Remove from array
        const index = certificates.findIndex(cert => cert.id === id);
        if (index > -1) {
          certificates.splice(index, 1);
          renderCertificates();
        }
      }
    }

    function renderCertificates() {
      const grid = document.getElementById('certificatesGrid');
      
      if (certificates.length === 0) {
        grid.innerHTML = `
          <div class="no-certificates">
            <div class="no-cert-icon">üìú</div>
            <h3>No Certificates Found</h3>
            <p>You haven't added any certificates yet. Click "Add New Certificate" to get started!</p>
          </div>
        `;
        return;
      }

      grid.innerHTML = certificates.map(cert => `
        <div class="certificate-card">
          <div class="certificate-image">
            <img src="${cert.imageUrl}" alt="${cert.name}" loading="lazy">
            <div class="certificate-overlay">
              <button class="view-btn" onclick="viewCertificate(${cert.id})">üëÅÔ∏è View</button>
            </div>
          </div>
          <div class="certificate-info">
            <h3 class="certificate-name">${cert.name}</h3>
            <p class="certificate-issuer">${cert.issuer}</p>
            <div class="certificate-details">
              <div class="detail-item">
                <span class="detail-label">Issue Date:</span>
                <span class="detail-value">${formatDate(cert.issueDate)}</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Expiry Date:</span>
                <span class="detail-value">${formatDate(cert.expiryDate)}</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Certificate #:</span>
                <span class="detail-value">${cert.certificateNumber}</span>
              </div>
            </div>
            <div class="certificate-status">
              <span class="status-badge ${getStatusClass(cert.status)}">${getStatusText(cert.status)}</span>
            </div>
            <div class="certificate-actions">
              <button class="action-btn edit-btn" onclick="editCertificate(${cert.id})">‚úèÔ∏è Edit</button>
              <button class="action-btn delete-btn" onclick="deleteCertificate(${cert.id})">üóëÔ∏è Delete</button>
            </div>
          </div>
        </div>
      `).join('');
    }

    function viewCertificate(id) {
      const cert = certificates.find(c => c.id === id);
      if (cert) {
        // Open certificate in new window/tab
        window.open(cert.imageUrl, '_blank');
      }
    }

    function editCertificate(id) {
      // Redirect to edit page with certificate ID
      window.location.href = `add-cert.html?edit=${id}`;
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      renderCertificates();
    });
  </script>
</body>
</html>
